package com.atom.personnel.entity

import jakarta.persistence.Entity
import jakarta.persistence.FetchType
import jakarta.persistence.GeneratedValue
import jakarta.persistence.GenerationType
import jakarta.persistence.Id
import jakarta.persistence.JoinColumn
import jakarta.persistence.ManyToOne
import jakarta.persistence.Table

@Table(name = "employee_department")
@Entity
data class EmpDept(

        @Id
    @GeneratedValue(GenerationType.IDENTITY)
    var id: Long? = null,

    // 关联到员工实体（多对一）
        @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "emp_id", nullable = false)
    var employee: Employee? = null,

    // 关联到部门实体（多对一）
        @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "dept_id", nullable = false)
    var department: Department? = null
)
/*
-- 插入员工-部门关联数据（EmpDept表）
-- 假设：
-- 技术部（部门ID=1）包含员工ID：1-15
-- 市场部（部门ID=2）包含员工ID：16-25
-- 人力资源部（部门ID=3）包含员工ID：26-33
-- 财务部（部门ID=4）包含员工ID：34-39
-- 销售部（部门ID=5）包含员工ID：40-49
-- 研发部（部门ID=6）包含员工ID：1-18（部分与技术部重叠，模拟跨部门）
-- 行政部（部门ID=7）包含员工ID：50
-- 产品部（部门ID=8）包含员工ID：19-27
-- 设计部（部门ID=9）包含员工ID：28-34
-- 运营部（部门ID=10）包含员工ID：35-50

INSERT INTO employee_department (id, emp_id, dept_id) VALUES
-- 技术部（部门ID=1）的员工
(1, 1, 1), (2, 2, 1), (3, 3, 1), (4, 4, 1), (5, 5, 1),
(6, 6, 1), (7, 7, 1), (8, 8, 1), (9, 9, 1), (10, 10, 1),
(11, 11, 1), (12, 12, 1), (13, 13, 1), (14, 14, 1), (15, 15, 1),

-- 市场部（部门ID=2）的员工
(16, 16, 2), (17, 17, 2), (18, 18, 2), (19, 19, 2), (20, 20, 2),
(21, 21, 2), (22, 22, 2), (23, 23, 2), (24, 24, 2), (25, 25, 2),

-- 人力资源部（部门ID=3）的员工
(26, 26, 3), (27, 27, 3), (28, 28, 3), (29, 29, 3), (30, 30, 3),
(31, 31, 3), (32, 32, 3), (33, 33, 3),

-- 财务部（部门ID=4）的员工
(34, 34, 4), (35, 35, 4), (36, 36, 4), (37, 37, 4), (38, 38, 4), (39, 39, 4),

-- 销售部（部门ID=5）的员工
(40, 40, 5), (41, 41, 5), (42, 42, 5), (43, 43, 5), (44, 44, 5),
(45, 45, 5), (46, 46, 5), (47, 47, 5), (48, 48, 5), (49, 49, 5),

-- 研发部（部门ID=6）的员工（部分员工同时属于技术部和研发部）
(50, 1, 6), (51, 2, 6), (52, 3, 6), (53, 4, 6), (54, 5, 6),
(55, 6, 6), (56, 7, 6), (57, 8, 6), (58, 9, 6), (59, 10, 6),
(60, 11, 6), (61, 12, 6), (62, 13, 6), (63, 14, 6), (64, 15, 6),
(65, 16, 6), (66, 17, 6), (67, 18, 6),

-- 行政部（部门ID=7）的员工
(68, 50, 7),

-- 产品部（部门ID=8）的员工
(69, 19, 8), (70, 20, 8), (71, 21, 8), (72, 22, 8), (73, 23, 8),
(74, 24, 8), (75, 25, 8), (76, 26, 8), (77, 27, 8),

-- 设计部（部门ID=9）的员工
(78, 28, 9), (79, 29, 9), (80, 30, 9), (81, 31, 9), (82, 32, 9),
(83, 33, 9), (84, 34, 9),

-- 运营部（部门ID=10）的员工
(85, 35, 10), (86, 36, 10), (87, 37, 10), (88, 38, 10), (89, 39, 10),
(90, 40, 10), (91, 41, 10), (92, 42, 10), (93, 43, 10), (94, 44, 10),
(95, 45, 10), (96, 46, 10), (97, 47, 10), (98, 48, 10), (99, 49, 10), (100, 50, 10),

-- 模拟一些跨部门的场景（某些员工属于多个部门）
-- 员工1（张三）同时属于技术部和研发部
(101, 1, 1), (102, 1, 6),
-- 员工2（李四）同时属于技术部和研发部，并且是技术部经理
(103, 2, 1), (104, 2, 6),
-- 员工6（周八）同时属于技术部、研发部，并且是研发部总监
(105, 6, 1), (106, 6, 6),
-- 员工19（张伟）同时属于市场部和产品部
(107, 19, 2), (108, 19, 8),
-- 员工29（钱刚）同时属于财务部和设计部
(109, 29, 4), (110, 29, 9),
-- 员工35（杨光）同时属于研发部和运营部
(111, 35, 6), (112, 35, 10),
-- 员工50（孙燕）同时属于行政部和运营部
(113, 50, 7), (114, 50, 10);

 */